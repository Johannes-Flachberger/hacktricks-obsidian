# AWS - Unauthenticated Enum & Access

## AWS Credentials Leaks

A common way to obtain access or information about an AWS account is by **searching for leaks**. You can search for leaks using **google dorks**, checking the **public repos** of the **organization** and the **workers** of the organization in **Github** or other platforms, searching in **credentials leaks databases**... or in any other part you think you might find any information about the company and its cloud infa.\
Some useful **tools**:

- [https://github.com/carlospolop/leakos](https://github.com/carlospolop/leakos)
- [https://github.com/carlospolop/pastos](https://github.com/carlospolop/pastos)
- [https://github.com/carlospolop/gorks](https://github.com/carlospolop/gorks)

## AWS Unauthenticated Enum & Access

There are several services in AWS that could be configured giving some kind of access to all Internet or to more people than expected. Check here how:

- [[aws-accounts-unauthenticated-enum/README.md|Accounts Unauthenticated Enum]]
- [[aws-api-gateway-unauthenticated-enum/README.md|API Gateway Unauthenticated Enum]]
- [[aws-cloudfront-unauthenticated-enum/README.md|Cloudfront Unauthenticated Enum]]
- [[aws-codebuild-unauthenticated-access/README.md|Codebuild Unauthenticated Access]]
- [[aws-cognito-unauthenticated-enum/README.md|Cognito Unauthenticated Enum]]
- [[aws-documentdb-enum/README.md|DocumentDB Unauthenticated Enum]]
- [[aws-dynamodb-unauthenticated-access/README.md|DynamoDB Unauthenticated Access]]
- [[aws-ec2-unauthenticated-enum/README.md|EC2 Unauthenticated Enum]]
- [[aws-elastic-beanstalk-unauthenticated-enum/README.md|Elastic Beanstalk Unauthenticated Enum]]
- [[aws-elasticsearch-unauthenticated-enum/README.md|Elasticsearch Unauthenticated Enum]]
- [[aws-iam-and-sts-unauthenticated-enum/README.md|IAM Unauthenticated Enum]]
- [[aws-identity-center-and-sso-unauthenticated-enum/README.md|Identity Center and SSO Unauthenticated Enum]]
- [[aws-iot-unauthenticated-enum/README.md|IoT Unauthenticated Enum]]
- [[aws-kinesis-video-unauthenticated-enum/README.md|Kinesis Video Unauthenticated Enum]]
- [[aws-lambda-unauthenticated-access/README.md|Lambda Unauthenticated Access]]
- [[aws-media-unauthenticated-enum/README.md|Media Unauthenticated Enum]]
- [[aws-mq-unauthenticated-enum/README.md|MQ Unauthenticated Enum]]
- [[aws-msk-unauthenticated-enum/README.md|MSK Unauthenticated Enum]]
- [[aws-rds-unauthenticated-enum/README.md|RDS Unauthenticated Enum]]
- [[aws-redshift-unauthenticated-enum/README.md|Redshift Unauthenticated Enum]]
- [[aws-s3-unauthenticated-enum/README.md|S3 Unauthenticated Enum]]
- [[aws-sagemaker-unauthenticated-enum/README.md|Sagemaker Unauthenticated Enum]]
- [[aws-sns-unauthenticated-enum/README.md|SNS Unauthenticated Enum]]
- [[aws-sqs-unauthenticated-enum/README.md|SQS Unauthenticated Enum]]

## Cross Account Attacks

In the talk [**Breaking the Isolation: Cross-Account AWS Vulnerabilities**](https://www.youtube.com/watch?v=JfEFIcpJ2wk) it's presented how some services allow(ed) any AWS account accessing them because **AWS services without specifying accounts ID** were allowed.

During the talk they specify several examples, such as S3 buckets **allowing cloudtrai**l (of **any AWS** account) to **write to them**:

![[../../../images/image (260).png]]

Other services found vulnerable:

- AWS Config
- Serverless repository

## Tools

- [**cloud_enum**](https://github.com/initstring/cloud_enum): Multi-cloud OSINT tool. **Find public resources** in AWS, Azure, and Google Cloud. Supported AWS services: Open / Protected S3 Buckets, awsapps (WorkMail, WorkDocs, Connect, etc.)

